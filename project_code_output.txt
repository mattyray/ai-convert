===== Dockerfile =====
# Use official Python image as base
FROM python:3.10.4-slim-bullseye

# Set environment variables
ENV PIP_DISABLE_PIP_VERSION_CHECK=1
ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONUNBUFFERED=1



# Set work directory
WORKDIR /code

# Install dependencies
COPY ./requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy project files
COPY . .

# Run Gunicorn
CMD ["sh", "-c", "gunicorn django_project.wsgi --bind 0.0.0.0:${PORT:-8000}"]
===== docker-compose.yml =====
services:
  web:
    build: .
    command: python manage.py runserver 0.0.0.0:8000
    ports:
      - "8001:8000"  # External port 8001 maps to internal port 8000
    depends_on:
      db:
        condition: service_healthy  # Ensures DB is ready before Django starts
    env_file:
      - .env  # ✅ Loads your .env file into the container
    environment:
      - "DJANGO_DEBUG=True"
      - "DJANGO_SECURE_SSL_REDIRECT=False"
      - "DJANGO_SECURE_HSTS_SECONDS=0"
      - "DJANGO_SECURE_HSTS_INCLUDE_SUBDOMAINS=False"
      - "DJANGO_SECURE_HSTS_PRELOAD=False"
      - "DJANGO_SESSION_COOKIE_SECURE=False"
      - "DJANGO_CSRF_COOKIE_SECURE=False"
      - "DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db:5432/${POSTGRES_DB}"
    volumes:
      - .:/code  # Mounts your code into the container
    networks:
      - art_moving_network

  db:
    image: postgres:15  # Latest stable version
    container_name: matthew_raynor_db
    restart: always
    volumes:
      - postgres_data:/var/lib/postgresql/data/
    environment:
      POSTGRES_DB: art_moving
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 5s
      retries: 5
    networks:
      - art_moving_network

volumes:
  postgres_data:

networks:
  art_moving_network:
===== docker-compose-prod.yml =====
services:
  web:
    build: .
    command: gunicorn django_project.wsgi --bind 0.0.0.0:$PORT
    ports:
      - "8000:8000"
    depends_on:
      db:
        condition: service_healthy
    environment:
      - "DJANGO_DEBUG=False"
      - "DJANGO_SECURE_SSL_REDIRECT=True"
      - "DJANGO_SECURE_HSTS_SECONDS=2592000"  # 30 days
      - "DJANGO_SECURE_HSTS_INCLUDE_SUBDOMAINS=True"
      - "DJANGO_SECURE_HSTS_PRELOAD=True"
      - "DJANGO_SESSION_COOKIE_SECURE=True"
      - "DJANGO_CSRF_COOKIE_SECURE=True"
      - "PORT=8000"  # Needed for Heroku
      - "DATABASE_URL=${DATABASE_URL}"
  db:
    image: postgres:15
    volumes:
      - postgres_data:/var/lib/postgresql/data
    environment:
      - POSTGRES_HOST_AUTH_METHOD=trust
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres"]
      interval: 10s
      retries: 5
      timeout: 5s

volumes:
  postgres_data:
===== heroku.yml =====
build:
  docker:
    web: Dockerfile  # Tells Heroku to use the Dockerfile to build your app

release:
  image: web
  command:
    - python manage.py migrate  # Runs database migrations
    - python manage.py collectstatic --noinput  # Collects static files

run:
  web: gunicorn django_project.wsgi --bind 0.0.0.0:$PORT  # Starts the app
===== requirements.txt =====
asgiref==3.8.1
crispy-bootstrap5==2024.10
diff-match-patch==20241021
Django==5.1.6
django-allauth==65.6.0
django-crispy-forms==2.3
django-environ==0.12.0
django-import-export==4.3.7
gunicorn==23.0.0
numpy==2.2.4
packaging==24.2
pandas==2.2.3
psycopg2-binary==2.9.10
python-dateutil==2.9.0.post0
pytz==2025.2
six==1.17.0
sqlparse==0.5.3
tablib==3.8.0
typing_extensions==4.13.0
tzdata==2025.2
whitenoise==6.9.0
Pillow==10.0.0
django-embed-video==1.4.10
django-recaptcha==4.1.0
===== manage.py =====
#!/usr/bin/env python
"""Django's command-line utility for administrative tasks."""
import os
import sys


def main():
    """Run administrative tasks."""
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'django_project.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)


if __name__ == '__main__':
    main()


===== accounts/models.py =====
from django.contrib.auth.models import AbstractBaseUser, PermissionsMixin
from django.db import models
from django.utils import timezone
from django.contrib.auth.base_user import BaseUserManager

class CustomUserManager(BaseUserManager):
    def create_user(self, email, password=None, **extra_fields):
        if not email:
            raise ValueError("The Email field must be set")
        email = self.normalize_email(email)
        user = self.model(email=email, **extra_fields)
        user.set_password(password)
        user.save(using=self._db)
        return user

    def create_superuser(self, email, password, **extra_fields):
        extra_fields.setdefault('is_staff', True)
        extra_fields.setdefault('is_superuser', True)
        return self.create_user(email, password, **extra_fields)

class CustomUser(AbstractBaseUser, PermissionsMixin):
    email = models.EmailField(unique=True)
    first_name = models.CharField(max_length=30, blank=True)
    last_name = models.CharField(max_length=30, blank=True)
    is_staff = models.BooleanField(default=False)
    is_active = models.BooleanField(default=True)
    date_joined = models.DateTimeField(default=timezone.now)

    USERNAME_FIELD = 'email'
    REQUIRED_FIELDS = []

    objects = CustomUserManager()

    def __str__(self):
        return self.email


===== accounts/views.py =====
from django.urls import reverse_lazy
from django.views import generic
from django.contrib.auth import logout, get_user_model
from django.shortcuts import redirect, render
from .forms import CustomUserCreationForm, CustomUserChangeForm
from django.contrib.auth import login
from django.contrib.auth.mixins import LoginRequiredMixin
from django.views.generic import TemplateView
from django.views.generic.edit import UpdateView

# ✅ Import models for dashboard data
from store.models import Order, Review

def custom_logout(request):
    """Logs out the user and redirects to the homepage."""
    print("🚀 custom_logout was called!")
    request.session.flush()
    logout(request)
    return redirect("/")

class SignupPageView(generic.CreateView):
    form_class = CustomUserCreationForm
    success_url = reverse_lazy("account_login")
    template_name = "account/signup.html"

class DashboardView(LoginRequiredMixin, TemplateView):
    template_name = "account/dashboard.html"

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        # ✅ Add orders and reviews to dashboard context
        context['orders'] = Order.objects.filter(user=self.request.user).order_by('-created_at')
        context['reviews'] = Review.objects.filter(user=self.request.user).order_by('-created_at')
        return context

class ProfileEditView(LoginRequiredMixin, UpdateView):
    model = get_user_model()
    form_class = CustomUserChangeForm
    template_name = "account/profile_edit.html"
    success_url = reverse_lazy("dashboard")

    def get_object(self):
        return self.request.user


===== accounts/forms.py =====
from django.contrib.auth import get_user_model
from django.contrib.auth.forms import UserCreationForm, UserChangeForm

class CustomUserCreationForm(UserCreationForm):
    class Meta:
        model = get_user_model()
        fields = ("email",)  # Remove 'username'

class CustomUserChangeForm(UserChangeForm):
    class Meta:
        model = get_user_model()
        fields = ("email",)  # Remove 'username'


===== accounts/urls.py =====
from django.urls import path, include
from django.contrib.auth import views as auth_views

from .views import SignupPageView, DashboardView, custom_logout, ProfileEditView

urlpatterns = [
    path('signup/', SignupPageView.as_view(), name='signup'),
    path('login/', include('allauth.urls')),  # or your custom login view
    path('dashboard/', DashboardView.as_view(), name='dashboard'),
    path('profile/edit/', ProfileEditView.as_view(), name='profile_edit'),
    path('logout/', custom_logout, name='logout'),
        path(
        'password/change/',
        auth_views.PasswordChangeView.as_view(template_name='account/password_change.html'),
        name='password_change'
    ),
    path(
        'password/change/done/',
        auth_views.PasswordChangeDoneView.as_view(template_name='account/password_change_done.html'),
        name='password_change_done'
    ),
]


===== accounts/admin.py =====
from django.contrib import admin
from django.contrib.auth.admin import UserAdmin
from .models import CustomUser
from .forms import CustomUserCreationForm, CustomUserChangeForm

class CustomUserAdmin(UserAdmin):
    add_form = CustomUserCreationForm
    form = CustomUserChangeForm
    model = CustomUser
    list_display = ('email', 'first_name', 'last_name', 'is_staff', 'is_active')
    list_filter = ('is_staff', 'is_active')
    ordering = ('email',)
    fieldsets = (
        (None, {'fields': ('email', 'password')}),
        ('Personal Info', {'fields': ('first_name', 'last_name')}),
        ('Permissions', {'fields': ('is_staff', 'is_active')}),
    )
    add_fieldsets = (
        (None, {
            'classes': ('wide',),
            'fields': ('email', 'password1', 'password2', 'is_staff', 'is_active'),
        }),
    )

admin.site.register(CustomUser, CustomUserAdmin)


===== pages/models.py =====
from django.db import models

# Create your models here.


===== pages/views.py =====
from django.views.generic import TemplateView
from blog.models import Post  
from django.shortcuts import render, redirect
from django.contrib import messages
from django.core.mail import send_mail
from .forms import ContactForm


def contact_view(request):
    if request.method == "POST":
        form = ContactForm(request.POST)
        if form.is_valid():
            print("✅ Message sent:", form.cleaned_data)
            messages.success(request, "Thanks for reaching out!")
            return redirect("contact")
    else:
        form = ContactForm()
    return render(request, "pages/contact.html", {"form": form})



class HomePageView(TemplateView):
    template_name = 'home.html'

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context["recent_posts"] = Post.objects.filter(is_published=True).order_by('-updated_date')[:3]
        return context


class PressPageView(TemplateView):
    template_name = "pages/press.html"

    def get_context_data(self, **kwargs):
        context = super().get_context_data(**kwargs)
        context["press_articles"] = [
            {
                "title": "Matthew Raynor Finds A New Lease On Life Through Art",
                "source": "27East",
                "link": "https://www.27east.com/arts/matthew-raynor-finds-a-new-lease-on-life-through-art-1506186/",
                "summary": "Explores your transition into photography and art exhibitions as a form of healing and purpose.",
                "image_url": "https://image.27east.com/2019/08/8.15x10.65_BackofBoat2.jpg"
            },
            {
                "title": "Matthew Raynor Photography At Southampton Cultural Center",
                "source": "27East",
                "link": "https://www.27east.com/arts/matthew-raynor-photography-at-southampton-cultural-center-1738556/",
                "summary": "Highlights your stunning drone and seascape photography exhibit at the SCC, blending grit and serenity.",
                "image_url": "https://image.27east.com/2020/11/Matt-Raynor-beautifulbirch-scaled.jpg"
            },
            {
                "title": "Before and After: Matt Raynor’s Life and Its Unexpected Turns",
                "source": "27East",
                "link": "https://www.27east.com/southampton-press/before-and-after-matt-raynors-life-and-its-unexpected-turns-chronicled-in-new-photography-book-2294539/",
                "summary": "Covers your memoir 'Before Me<>After Me,' sharing your powerful personal transformation through imagery.",
                "image_url": "https://image.27east.com/2024/10/party-1.jpg"
            },
            {
                "title": "Matthew Raynor Exhibits His Art at LTV Studios",
                "source": "27East",
                "link": "https://www.27east.com/arts/matthew-raynor-exhibits-his-art-at-ltv-studios-2249981/",
                "summary": "Your LTV Studios debut showcasing new aluminum prints, textures, and emotional storytelling through art.",
                "image_url": "https://image.27east.com/2024/05/Matt-Raynor-Boardwalk.jpg"
            },
            {
                "title": "Man Paralyzed While Diving Has No Health Aide: 'This Is A Crisis'",
                "source": "Patch",
                "link": "https://patch.com/new-york/westhampton-hamptonbays/man-paralyzed-while-diving-has-no-health-aide-crisis",
                "summary": "A heartbreaking look at the challenges you faced accessing in-home care following your accident.",
                "image_url": "https://patch.com/img/cdn20/users/1296254/20190912/061810/styles/patch_image/public/matt___12164446739.jpg?width=1200"
            },
            {
                "title": "Man Paralyzed In Diving Accident Finds Hope In Art — But Needs Help",
                "source": "Patch",
                "link": "https://patch.com/new-york/westhampton-hamptonbays/man-paralyzed-diving-accident-finds-hope-art-needs-help",
                "summary": "Details your emotional and creative healing journey while raising awareness for support needs.",
                "image_url": "https://patch.com/img/cdn20/users/1296254/20230421/085742/styles/patch_image/public/matthewraynor___21200506825.jpg?width=1200"
            },
            {
                "title": "Get Matty Ray Back On The Bay",
                "source": "Dan’s Papers",
                "link": "https://www.danspapers.com/2019/07/get-matty-ray-back-on-the-bay/",
                "summary": "Early community support feature spotlighting your recovery and the fundraiser to aid your journey.",
                "image_url": "https://www.danspapers.com/wp-content/uploads/2020/11/matt-raynor-benefit.jpg"
            },
            {
                "title": "The Matthew Raynor Story (PechaKucha Presentation)",
                "source": "PechaKucha",
                "link": "https://www.pechakucha.com/presentations/the-matthew-raynor-story",
                "summary": "A visual storytelling presentation of your journey from fisherman to artist to speaker.",
                "image_url": ""  # You can use a placeholder here or skip the image conditionally in the template
            },
            {
                "title": "Matt Raynor: A Creative Journey",
                "source": "MILK Books",
                "link": "https://www.milkbooks.com/blog/your-stories/matt-raynor-a-creative-journey/",
                "summary": "A deeply personal narrative exploring how art, writing, and resilience fueled your transformation.",
                "image_url": "https://cdn.milkbooks.com/media/20640/5_2x.webp"
            },
        ]
        return context


===== pages/forms.py =====
from django import forms
from django_recaptcha.fields import ReCaptchaField
from django_recaptcha.widgets import ReCaptchaV2Checkbox  # ✅ required!

class ContactForm(forms.Form):
    name = forms.CharField(max_length=100)
    email = forms.EmailField()
    message = forms.CharField(widget=forms.Textarea)
    captcha = ReCaptchaField(widget=ReCaptchaV2Checkbox)


===== pages/urls.py =====
from django.urls import path
from .views import HomePageView, PressPageView, contact_view

urlpatterns = [
    path("", HomePageView.as_view(), name="home"),  # Ensure this exists!
    path("press/", PressPageView.as_view(), name="press"),
    path("contact/", contact_view, name="contact"),
    
    
    
]


===== pages/admin.py =====
from django.contrib import admin

# Register your models here.


===== django_project/settings.py =====
from environ import Env
from pathlib import Path
import os

# Initialize environment variables
env = Env()
Env.read_env()

# Base directory
BASE_DIR = Path(__file__).resolve().parent.parent

# ✅ Security settings
SECURE_PROXY_SSL_HEADER = ("HTTP_X_FORWARDED_PROTO", "https")  # Required for Heroku

# Secret Key & Debug Mode
SECRET_KEY = env("DJANGO_SECRET_KEY", default="No Secret Key Found")
DEBUG = env.bool("DJANGO_DEBUG", default=False)

# ✅ Allowed Hosts
ALLOWED_HOSTS = env.list("DJANGO_ALLOWED_HOSTS", default=[
    "localhost",
    "127.0.0.1",
    "matthew-raynor-site-3d5f17c6a796.herokuapp.com",
    "matthewraynor.com",
    "www.matthewraynor.com",
])


# ✅ Installed Apps
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
   # 'django.contrib.sites',  


    # Custom apps
    'accounts.apps.AccountsConfig',
    'pages.apps.PagesConfig',
    'store.apps.StoreConfig',
    'blog.apps.BlogConfig',
    'portfolio.apps.PortfolioConfig',



    # Third-party packages
    'crispy_forms',
    'crispy_bootstrap5',
    'import_export',
    'allauth',
    'allauth.account',
    'allauth.socialaccount',
    'embed_video',
    'django_recaptcha',


]

# ✅ Middleware
MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'whitenoise.middleware.WhiteNoiseMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'allauth.account.middleware.AccountMiddleware',  # Add this line
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]


# ✅ URL Configuration
ROOT_URLCONF = 'django_project.urls'

# ✅ Templates
TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR / 'templates'],  # Include custom templates
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

# ✅ WSGI Application
WSGI_APPLICATION = 'django_project.wsgi.application'

# ✅ Database Configuration
DATABASES = {
    "default": env.db_url("DATABASE_URL")
}


# ✅ Authentication
AUTH_USER_MODEL = 'accounts.CustomUser'

# ✅ Password Validation
AUTH_PASSWORD_VALIDATORS = [
    {'NAME': 'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'},
    {'NAME': 'django.contrib.auth.password_validation.MinimumLengthValidator'},
    {'NAME': 'django.contrib.auth.password_validation.CommonPasswordValidator'},
    {'NAME': 'django.contrib.auth.password_validation.NumericPasswordValidator'},
]

# ✅ Localization
LANGUAGE_CODE = 'en-us'
TIME_ZONE = 'UTC'
USE_I18N = True
USE_TZ = True

STATIC_URL = "/static/"
STATICFILES_DIRS = [BASE_DIR / "static"]  # 👈 crucial for collectstatic to find non-app static files
STATIC_ROOT = BASE_DIR / "staticfiles"
STATICFILES_STORAGE = "whitenoise.storage.CompressedManifestStaticFilesStorage"


MEDIA_URL = "/media/"
MEDIA_ROOT = BASE_DIR / "media"

# ✅ Default Primary Key
DEFAULT_AUTO_FIELD = 'django.db.models.BigAutoField'

# ✅ Crispy Forms
CRISPY_ALLOWED_TEMPLATE_PACKS = "bootstrap5"
CRISPY_TEMPLATE_PACK = "bootstrap5"

# ✅ Login & Logout
 

# ✅ Security Settings for Production
if not DEBUG:
    SECURE_SSL_REDIRECT = env.bool("DJANGO_SECURE_SSL_REDIRECT", default=True)
    SECURE_HSTS_SECONDS = env.int("DJANGO_SECURE_HSTS_SECONDS", default=2592000)  # 30 days
    SECURE_HSTS_INCLUDE_SUBDOMAINS = env.bool("DJANGO_SECURE_HSTS_INCLUDE_SUBDOMAINS", default=True)
    SECURE_HSTS_PRELOAD = env.bool("DJANGO_SECURE_HSTS_PRELOAD", default=True)
    SESSION_COOKIE_SECURE = env.bool("DJANGO_SESSION_COOKIE_SECURE", default=True)
    CSRF_COOKIE_SECURE = env.bool("DJANGO_CSRF_COOKIE_SECURE", default=True)
else:
    SECURE_SSL_REDIRECT = False
    SECURE_HSTS_SECONDS = 0
    SECURE_HSTS_INCLUDE_SUBDOMAINS = False
    SECURE_HSTS_PRELOAD = False
    SESSION_COOKIE_SECURE = False
    CSRF_COOKIE_SECURE = False


STATICFILES_FINDERS = [
    'django.contrib.staticfiles.finders.FileSystemFinder',
    'django.contrib.staticfiles.finders.AppDirectoriesFinder',
]

IMPORT_EXPORT_USE_TRANSACTIONS = True
SITE_ID = 1


ACCOUNT_LOGIN_METHODS = {'email'}
ACCOUNT_SIGNUP_FIELDS = ['email*', 'password1*', 'password2*']
ACCOUNT_USER_MODEL_USERNAME_FIELD = "email"



ACCOUNT_EMAIL_VERIFICATION = 'optional'  # or 'optional' based on your preference
LOGIN_REDIRECT_URL = '/'  # or wherever you want to redirect after login
ACCOUNT_LOGOUT_REDIRECT_URL = '/'

LOGIN_REDIRECT_URL = 'home'
LOGOUT_REDIRECT_URL = "/" 

#Django recapctha

SILENCED_SYSTEM_CHECKS = ['django_recaptcha.recaptcha_test_key_error']


RECAPTCHA_PUBLIC_KEY = env("RECAPTCHA_PUBLIC_KEY")
RECAPTCHA_PRIVATE_KEY = env("RECAPTCHA_PRIVATE_KEY")

===== django_project/urls.py =====
from django.contrib import admin
from django.urls import path, include
from django.conf.urls.static import static
from django.conf import settings

urlpatterns = [
    path("admin/", admin.site.urls),
    path("accounts/", include("accounts.urls")),
    path("accounts/", include("allauth.urls")),
    path("blog/", include("blog.urls")),
    path("", include("pages.urls")),
    path("store/", include("store.urls")),
    path("portfolio/", include("portfolio.urls")),
]

if settings.DEBUG:
    urlpatterns += static(settings.STATIC_URL, document_root=settings.STATIC_ROOT)
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)


===== django_project/asgi.py =====
"""
ASGI config for django_project project.

It exposes the ASGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.1/howto/deployment/asgi/
"""

import os

from django.core.asgi import get_asgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'django_project.settings')

application = get_asgi_application()


===== django_project/wsgi.py =====
"""
WSGI config for django_project project.

It exposes the WSGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/5.1/howto/deployment/wsgi/
"""

import os

from django.core.wsgi import get_wsgi_application

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'django_project.settings')

application = get_wsgi_application()


===== templates/home.html =====
{% extends "base.html" %}
{% load static %}
{% load embed_video_tags %}

{% block title %}Matthew Raynor – Home{% endblock %}

{% block content %}
<div class="container-fluid p-0">

  <!-- HERO SECTION -->
  <section class="hero text-white text-center d-flex align-items-center position-relative fade-in-up sr-delay-1"
           style="background: url('{% static 'images/hero.png' %}') center/cover no-repeat; height: 90vh;">
    <div class="position-absolute top-0 start-0 w-100 h-100" style="background-color: rgba(0, 0, 0, 0.5); z-index: 1;"></div>
    <div class="container position-relative z-2">
      <div class="p-4 rounded-4 bg-dark bg-opacity-50 shadow-lg d-inline-block">
        <h1 class="display-4 fw-bold text-shadow">From Sea to Source Code</h1>
        <p class="lead">Writer • Developer • Artist • Entertainer</p>
        <a href="{% url 'store:store_overview' %}" class="btn btn-primary btn-lg mt-3">Explore My Store</a>
        <a href="{% url 'post_list' %}" class="btn btn-outline-light btn-lg mt-3 ms-2">Check the V/Blog</a>
      </div>
    </div>
  </section>

  <!-- MY STORY -->
  <section class="py-5 bg-light fade-in-up sr-delay-2">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6 mb-4 mb-md-0">
          <img src="{% static 'images/matthew_portrait.png' %}" class="img-fluid rounded shadow" alt="Matthew Raynor Portrait">
        </div>
        <div class="col-md-6">
          <h2 class="fw-bold">My Journey</h2>
          <p class="lead">Once a commercial fisherman, I became quadriplegic after a life-altering injury. But I turned pain into purpose, teaching myself to code with a stylus, building apps, and inspiring others through writing and art.</p>
          <a href="{% url 'post_list' %}" class="btn btn-outline-primary">Read More</a>
        </div>
      </div>
    </div>
  </section>

  <!-- FEATURED BOOK & ART -->
  <section class="py-5 fade-in-up sr-delay-3">
    <div class="container text-center">
      <h2 class="fw-bold mb-4">Featured Shop</h2>
      <div class="row justify-content-center">
        <div class="col-md-4 mb-3 fade-in-up sr-delay-4">
          <div class="card h-100 shadow">
            <img src="{% static 'images/book_cover.jpg' %}" class="card-img-top" alt="Before Me After Me">
            <div class="card-body">
              <h5 class="card-title">Before Me After Me</h5>
              <p class="card-text">My memoir of resilience, technology, and transformation.</p>
              <a href="{% url 'store:product_detail' 'before-me-after-me' %}" class="btn btn-primary">Buy the Book</a>
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-3 fade-in-up sr-delay-5">
          <div class="card h-100 shadow">
            <img src="{% static 'images/art_sample.jpg' %}" class="card-img-top" alt="Aluminum Artwork">
            <div class="card-body">
              <h5 class="card-title">Aluminum Prints</h5>
              <p class="card-text">Oceanic photography infused with strength and serenity.</p>
              <a href="{% url 'store:store_overview' %}" class="btn btn-outline-primary">View Artwork</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- PORTFOLIO PREVIEW -->
  <section class="py-5 bg-light fade-in-up sr-delay-6">
    <div class="container">
      <h2 class="text-center fw-bold mb-4">My Development Projects</h2>
      <div class="row text-center">
        <div class="col-md-4 fade-in-up sr-delay-7">
          <h5 class="fw-bold">Art Mover App</h5>
          <p>Logistics tool for scheduling and invoicing art shipments.</p>
        </div>
        <div class="col-md-4 fade-in-up sr-delay-8">
          <h5 class="fw-bold">Bookstore API</h5>
          <p>REST-powered Django API with authentication and rating system.</p>
        </div>
        <div class="col-md-4 fade-in-up sr-delay-9">
          <h5 class="fw-bold">Fundraiser Website</h5>
          <p>Dynamic site with embedded video, donations, and blogging tools.</p>
        </div>
      </div>
      <div class="text-center mt-4">
        <a href="{% url 'portfolio:index' %}" class="btn btn-outline-dark">View Full Portfolio</a>
      </div>
    </div>
  </section>

  <!-- BLOG PREVIEW -->
  <section class="py-5 fade-in-up sr-delay-10">
    <div class="container">
      <h2 class="text-center fw-bold mb-4">Recent Blog Posts</h2>
      <p class="lead text-center">My hilarious and entertaining videos paired with inspirational writing</p>

      <div class="row">
        {% for post in recent_posts %}
          <div class="col-md-4 mb-4 fade-in-up sr-delay-{{ forloop.counter }}">
            <div class="card h-100 shadow-sm">
              {% if post.video %}
                <div class="ratio ratio-16x9">
                  {% video post.video 'small' %}
                </div>
              {% else %}
                <img src="https://source.unsplash.com/400x250/?technology,writing" class="card-img-top" alt="Blog Image">
              {% endif %}
              <div class="card-body">
                <h5 class="card-title">
                  <a href="{% url 'post_detail' post.slug %}" class="text-decoration-none text-dark fw-bold">
                    {{ post.title }}
                  </a>
                </h5>
                <p class="text-muted">Updated on {{ post.updated_date|date:"F d, Y" }}</p>
                <p class="card-text">{{ post.content|truncatewords:25 }}</p>
                <a href="{% url 'post_detail' post.slug %}" class="btn btn-outline-primary">Read More</a>
              </div>
            </div>
          </div>
        {% empty %}
          <p class="text-center">No posts yet. Stay tuned!</p>
        {% endfor %}
      </div>

      <div class="text-center mt-4">
        <a href="{% url 'post_list' %}" class="btn btn-primary">Go to Blog</a>
      </div>
    </div>
  </section>

  <!-- CONNECT CTA -->
  <section class="py-5 position-relative text-center fade-in-up sr-delay-11" style="background-color: rgba(255, 248, 225, 0.85);">
    <div class="container text-dark">
      <h2 class="fw-bold">Let’s Connect</h2>
      <p class="mb-4">Got questions about my work? Need a website? Need an application? Need custom photography?</p>
      <a href="#" class="btn btn-primary btn-lg">Contact Me</a>
    </div>
  </section>

</div>
{% endblock %}


===== templates/base.html =====
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}MatthewRaynor.com{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="64x64" href="{% static 'images/icon.png' %}">

  <!-- Font Awesome for Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="{% static 'css/custom.css' %}">

  <!-- FullCalendar CSS -->
  <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Montserrat:wght@400;700&family=Open+Sans&display=swap" rel="stylesheet">

  <!-- Flatpickr CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

  <!-- Select2 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

  <!-- Optional Additional Styles -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  {% block extra_css %}
  <style>
    .nav-icon {
      height: 40px;
      margin-right: 10px;
    }
  </style>
  {% endblock %}
</head>
<body>
  <!-- Desktop Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-crunchy d-none d-lg-flex">
    <div class="container">
      <a class="navbar-brand fw-bold" href="{% url 'home' %}">
        <img src="{% static 'images/icon.png' %}" alt="Site Icon" class="nav-icon">
        <span class="brand-text">Matthew Raynor</span>
      </a>
      <div class="collapse navbar-collapse" id="navbarDesktop">
        <ul class="navbar-nav ms-3 me-auto">
          <li class="nav-item"><a class="nav-link" href="{% url 'post_list' %}">V/Blog</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'portfolio:index' %}">Portfolio</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'press' %}">Press</a></li>
          <li class="nav-item"><a class="nav-link" href="{% url 'contact' %}">Contact</a></li>
          <li class="nav-item store"><a class="nav-link" href="{% url 'store:store_overview' %}">Store</a></li>
        </ul>
        <form class="d-flex me-3">
          <input class="form-control search-input" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-light" type="submit">Search</button>
        </form>
        <ul class="navbar-nav">
          {% if user.is_authenticated %}
            <li class="nav-item"><a class="nav-link" href="{% url 'dashboard' %}">Dashboard</a></li>
            <li class="nav-item"><a class="nav-link" href="{% url 'logout' %}">Logout</a></li>
          {% else %}
            <li class="nav-item"><a class="nav-link" href="{% url 'account_login' %}">Login</a></li>
          {% endif %}
          <li class="nav-item">
            <a class="nav-link" href="{% url 'store:cart_detail' %}">
              <i class="fas fa-shopping-cart me-1"></i> Cart
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  

  <!-- Mobile Navbar & Offcanvas -->
  <div class="d-lg-none">
    <nav class="navbar navbar-dark bg-crunchy">
      <div class="container">
        <a class="navbar-brand fw-bold" href="{% url 'home' %}">
          <img src="{% static 'images/icon.png' %}" alt="Site Icon" class="nav-icon">
          <span class="brand-text">Matthew Raynor</span>
        </a>
        <button class="btn btn-outline-light" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar"
                aria-controls="offcanvasSidebar">
          Menu
        </button>
      </div>
    </nav>
  </div>

  <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="offcanvasSidebar" aria-labelledby="offcanvasSidebarLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasSidebarLabel">
        <img src="{% static 'images/icon.png' %}" alt="Site Icon" class="nav-icon">
        <span class="brand-text">Matthew Raynor</span>
      </h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="list-unstyled">
        <li><a class="offcanvas-link" href="{% url 'post_list' %}">Blog</a></li>
        <li><a class="offcanvas-link" href="{% url 'portfolio:index' %}">Portfolio</a></li>
        <li><a class="offcanvas-link" href="{% url 'press' %}">Press</a></li>
        <li><a class="offcanvas-link" href="{% url 'contact' %}">Contact</a></li>
        <li class="divider">|</li>
        <li><a class="offcanvas-link" href="{% url 'store:store_overview' %}">Store</a></li>
      </ul>
      <div class="mt-3">
        <form class="d-flex">
          <input class="form-control" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-light" type="submit">Search</button>
        </form>
      </div>
      <div class="mt-3">
        {% if user.is_authenticated %}
          <a class="btn btn-outline-light w-100 mb-2" href="{% url 'dashboard' %}">
            <i class="fas fa-user-circle me-2"></i> Dashboard
          </a>
          <a class="btn btn-outline-light w-100 mb-2" href="{% url 'store:cart_detail' %}">
            <i class="fas fa-shopping-cart me-2"></i> Cart
          </a>
          <a class="btn btn-outline-light w-100" href="{% url 'logout' %}">
            <i class="fas fa-sign-out-alt me-2"></i> Logout
          </a>
        {% else %}
          <a class="btn btn-outline-light w-100 mb-2" href="{% url 'account_login' %}">
            <i class="fas fa-sign-in-alt me-2"></i> Login
          </a>
          <a class="btn btn-outline-light w-100" href="{% url 'store:cart_detail' %}">
            <i class="fas fa-shopping-cart me-2"></i> Cart
          </a>
        {% endif %}
      </div>
      
    </div>
  </div>

  <!-- Main Content -->
  <main class="container mt-4">
    {% block content %}{% endblock %}
  </main>

  <!-- Footer -->
  <footer class="mt-4 bg-crunchy text-white text-center py-3">
    <div class="container">
      <p class="mb-0">&copy; {% now "Y" %} MatthewRaynor.com</p>
    </div>
  </footer>

  <!-- AI Chatbot -->
  <div id="ai-chatbot" class="chat-widget">
    <div id="ai-chatbot-header" class="chat-header">AI Assistant <span id="ai-chatbot-close" class="chat-close">&times;</span></div>
    <div id="ai-chatbot-body" class="chat-body"><p>Hello! How can I assist you today?</p></div>
    <div id="ai-chatbot-input" class="chat-input">
      <input type="text" placeholder="Type your message..." class="form-control">
    </div>
  </div>
  <button id="ai-chatbot-toggle" class="btn chat-toggle">Chat</button>

  <!-- JS Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="https://unpkg.com/scrollreveal"></script>

  {% block extra_js %}{% endblock %}

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      flatpickr(".datepicker", { dateFormat: "Y-m-d" });
      document.querySelectorAll(".select2").forEach(el => {
        $(el).select2({ width: "100%" });
      });

      $('#ai-chatbot-toggle').click(function () {
        $('#ai-chatbot').toggle();
      });
      $('#ai-chatbot-close').click(function () {
        $('#ai-chatbot').hide();
      });

      ScrollReveal().reveal('.fade-in-up', {
        distance: '20px',
        duration: 600,
        easing: 'ease-out',
        origin: 'bottom',
        opacity: 0,
        interval: 100,
        reset: false,
        cleanup: true
      });
    });
  </script>
</body>
</html>


===== templates/blog/post_list.html =====
{% extends 'base.html' %}
{% load static %} 
{% load embed_video_tags %}

{% block title %}Blog - Updates & Stories{% endblock %}

{% block content %}
<div class="container mt-5 fade-in-up">
  <h1 class="text-center fw-bold">Latest Blog Posts</h1>
  <p class="lead text-center">Follow my journey and stay updated.</p>

  <div class="row">
    {% for post in posts %}
    <div class="col-md-12 mb-4 fade-in-up sr-delay-{{ forloop.counter }}">
      <div class="card shadow-sm">
        <div class="row g-0 align-items-center">
          <!-- Video Section -->
          <div class="col-md-4">
            <div class="ratio ratio-16x9">
              {% if post.video %}
                {% video post.video 'small' %}
              {% else %}
                <img src="https://source.unsplash.com/400x250/?technology,writing" class="img-fluid rounded-start" alt="Blog Image">
              {% endif %}
            </div>
          </div>

          <!-- Blog Info Section -->
          <div class="col-md-8">
            <div class="card-body">
              <h4 class="card-title">
                <a href="{% url 'post_detail' post.slug %}" class="text-dark text-decoration-none fw-bold">
                  {{ post.title }}
                </a>
              </h4>
              <p class="text-muted">Published on {{ post.created_at|date:"F d, Y" }}</p>
              <p>{{ post.content|truncatewords:30 }}</p>
              <a href="{% url 'post_detail' post.slug %}" class="btn btn-outline-primary">Read More</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center">No blog posts yet. Stay tuned!</p>
    {% endfor %}
  </div>
</div>
{% endblock %}


===== templates/blog/post_detail.html =====
{% extends 'base.html' %}
{% load static %} 
{% load embed_video_tags %}
{% load crispy_forms_tags %}

{% block title %}{{ post.title }} - Blog{% endblock %}

{% block content %}
<div class="container mt-5 fade-in-up">

  <!-- Blog Post Card -->
  <div class="card shadow-lg fade-in-up">
    <div class="card-body">
      <h1 class="fw-bold">{{ post.title }}</h1>
      <p class="text-muted">Published on {{ post.created_at|date:"F d, Y" }}</p>

      <!-- Video Embed -->
      {% if post.video %}
      <div class="ratio ratio-16x9 my-3">
        {% video post.video 'large' %}
      </div>
      {% endif %}

      <!-- Blog Content -->
      <p class="lead">{{ post.content }}</p>

      <!-- Back to Blog Button -->
      <a href="{% url 'post_list' %}" class="btn btn-secondary mt-3">← Back to Blog</a>
    </div>
  </div>

  <!-- Comments Section -->
  <div class="mt-5 fade-in-up">
    <h3>Comments</h3>
    {% if comments %}
      <ul class="list-unstyled">
        {% for comment in comments %}
          <li class="mb-3">
            <strong>{% if comment.user %}{{ comment.user }}{% else %}{{ comment.name }}{% endif %}</strong> said:
            <p>{{ comment.content|linebreaks }}</p>
            <small class="text-muted">{{ comment.created_at|date:"M d, Y H:i" }}</small>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No comments yet. Be the first to comment!</p>
    {% endif %}

    <!-- Comment Form -->
    <h4 class="mt-4">Leave a Comment</h4>
    <form method="post">
      {% csrf_token %}
      {{ form|crispy }}
      <button type="submit" class="btn btn-primary">Submit Comment</button>
    </form>
  </div>

</div>
{% endblock %}


===== templates/portfolio/index.html =====
{% extends "base.html" %}
{% load static %}

{% block title %}Portfolio - Matthew Raynor{% endblock %}

{% block content %}
<div class="container mt-5 case-section fade-in-up">

  <!-- Section Heading -->
  <h1 class="fw-bold text-center mb-5">My Portfolio</h1>

  <div class="row justify-content-center">
    {% for project in projects %}
    <div class="col-md-6 col-lg-4 mb-4 fade-in-up sr-delay-{{ forloop.counter0|add:"1" }}">

      <div class="card h-100 shadow-sm">

        <!-- Thumbnail Image -->
        <div class="ratio ratio-4x3">
          <img src="{% static project.hero_image %}"
               class="card-img-top object-fit-cover"
               alt="{{ project.title }}">
        </div>

        <!-- Card Content -->
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ project.title }}</h5>
          <p class="card-text">{{ project.description|truncatewords:20 }}</p>
          <div class="mt-auto">
            <a href="{% url 'portfolio:project_detail' project.slug %}" class="btn btn-outline-primary w-100">View Project</a>
          </div>
        </div>
        
      </div>

    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}


===== templates/portfolio/detail.html =====
{% extends "base.html" %}
{% load static %}

{% block title %}{{ project.title }} – Portfolio{% endblock %}

{% block content %}
<div class="container my-5">

  <!-- Back Link -->
  <a href="{% url 'portfolio:index' %}" class="btn btn-outline-dark">← Back to Portfolio</a>

  <!-- HERO HEADER -->
  <div class="text-center case-section fade-in-up mb-4">
    <h1 class="fw-bold">{{ project.title }}</h1>
    <p class="lead text-muted">{{ project.description }}</p>
    <div class="mt-3">
      {% if project.github_url %}
        <a href="{{ project.github_url }}" class="btn btn-dark me-2" target="_blank">💻 GitHub</a>
      {% endif %}
      {% if project.live_url %}
        <a href="{{ project.live_url }}" class="btn btn-primary" target="_blank">🌍 Live Site</a>
      {% endif %}
    </div>
  </div>

  <!-- HERO IMAGE -->
  {% if project.hero_image %}
  <div class="text-center mb-5 case-section fade-in-up">
    <img src="{% static project.hero_image %}" class="img-fluid rounded shadow-sm" alt="{{ project.title }}" style="max-height: 400px; object-fit: cover; width: 100%; max-width: 960px;">
  </div>
  {% endif %}

  <!-- OVERVIEW -->
  {% if project.overview %}
  <div class="card mb-4 shadow-sm case-section fade-in-up">
    <div class="card-body">
      <h3 class="card-title">📌 Overview</h3>
      <p class="card-text">{{ project.overview }}</p>
    </div>
  </div>
  {% endif %}

  <!-- PROBLEM & SOLUTION -->
  <div class="row mb-4 case-section fade-in-up">
    {% if project.problem %}
    <div class="col-md-6 mb-3 mb-md-0">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h4 class="card-title">🧩 The Problem</h4>
          <p>{{ project.problem }}</p>
        </div>
      </div>
    </div>
    {% endif %}
    {% if project.solution %}
    <div class="col-md-6">
      <div class="card h-100 shadow-sm">
        <div class="card-body">
          <h4 class="card-title">💡 The Solution</h4>
          <p>{{ project.solution }}</p>
        </div>
      </div>
    </div>
    {% endif %}
  </div>

  <!-- TECH STACK -->
  {% if project.tech_stack %}
  <div class="card mb-4 shadow-sm case-section fade-in-up">
    <div class="card-body">
      <h3 class="card-title">🛠️ Tech Stack</h3>
      <div class="row">
        {% for category, tools in project.tech_stack.items %}
        <div class="col-md-6 mb-3">
          <strong class="text-muted">{{ category|title }}:</strong>
          <div class="mt-2">
            {% for tool in tools %}
              <span class="tech-pill">
                {% if tool == "Django" %}<i class="fab fa-python me-1"></i>{% endif %}
                {% if tool == "Python" %}<i class="fas fa-code me-1"></i>{% endif %}
                {% if tool == "PostgreSQL" %}<i class="fas fa-database me-1"></i>{% endif %}
                {% if tool == "Docker" %}<i class="fab fa-docker me-1"></i>{% endif %}
                {% if tool == "Bootstrap 5" %}<i class="fab fa-bootstrap me-1"></i>{% endif %}
                {% if tool == "Heroku" %}<i class="fas fa-cloud-upload-alt me-1"></i>{% endif %}
                {{ tool }}
              </span>
            {% endfor %}
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
  {% endif %}

  <!-- SPECIAL FEATURES -->
  {% if project.special_features %}
  <div class="card mb-4 shadow-sm case-section fade-in-up">
    <div class="card-body">
      <h3 class="card-title">✨ Special Features</h3>
      <ul class="mb-0">
        {% for feature in project.special_features %}
        <li>🌟 {{ feature }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% endif %}

  <!-- PROBLEMS SOLVED -->
  {% if project.problems_solved %}
  <div class="card mb-4 shadow-sm case-section fade-in-up">
    <div class="card-body">
      <h3 class="card-title">🎯 Real-World Problems Solved</h3>
      <ul class="mb-0">
        {% for item in project.problems_solved %}
        <li>🔧 {{ item }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% endif %}

  <!-- IMPROVEMENTS -->
  {% if project.improvements %}
  <div class="card mb-4 shadow-sm case-section fade-in-up">
    <div class="card-body">
      <h3 class="card-title">🚧 Improvements for Next Time</h3>
      <ul class="mb-0">
        {% for item in project.improvements %}
        <li>🛠 {{ item }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% endif %}

  <!-- PROUD OF -->
  {% if project.proud_of %}
  <div class="card mb-4 shadow-sm case-section fade-in-up">
    <div class="card-body">
      <h3 class="card-title">🏅 What I'm Proud Of</h3>
      <ul class="mb-0">
        {% for item in project.proud_of %}
        <li>🌈 {{ item }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% endif %}

  <!-- BUILD NOTES -->
  {% if project.build_notes %}
  <div class="card mb-4 shadow-sm case-section fade-in-up">
    <div class="card-body">
      <h3 class="card-title">📚 Build Notes</h3>
      <div class="highlight">{{ project.build_notes|safe }}</div>
    </div>
  </div>
  {% endif %}

  <!-- Bottom CTAs -->
  <div class="text-center case-section fade-in-up mt-5">
    {% if project.live_url %}
      <a href="{{ project.live_url }}" class="btn btn-primary btn-lg me-2" target="_blank">🌍 Visit Live Site</a>
    {% endif %}
    {% if project.github_url %}
      <a href="{{ project.github_url }}" class="btn btn-outline-dark btn-lg" target="_blank">💻 GitHub Repo</a>
    {% endif %}
  </div>

</div>
{% endblock %}


===== templates/account/profile_edit.html =====
{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Edit Profile - MatthewRaynor.com{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Edit Profile</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
    <p class="mt-3"><a href="{% url 'dashboard' %}">Back to Dashboard</a></p>
</div>
{% endblock %}


===== templates/account/login.html =====
{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Login{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Login</h2>
    <p>Debug: Login Template Loaded</p>

    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit" class="btn btn-primary">Login</button>
    </form>
    <p class="mt-3">Don't have an account? <a href="{% url 'signup' %}">Sign up here</a>.</p>
</div>
{% endblock %}


===== templates/account/dashboard.html =====
{% extends "base.html" %}
{% block title %}Dashboard - MatthewRaynor.com{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2>Welcome, {{ user.email }}</h2>

  <div class="row mb-4">
    <div class="col-md-6">
      <h3>Profile Information</h3>
      <p><strong>Name:</strong> {{ user.first_name }} {{ user.last_name }}</p>
      <p><strong>Email:</strong> {{ user.email }}</p>
      <a href="{% url 'profile_edit' %}" class="btn btn-secondary">Edit Profile</a>
    </div>
    <div class="col-md-6">
      <h3>Account Settings</h3>
      <!-- Future settings can go here -->
    </div>
  </div>

  <hr>

  <div class="row">
    <div class="col-md-6">
      <h3>Recent Orders</h3>
      {% if orders %}
        <ul class="list-group mb-3">
          {% for order in orders|slice:":3" %}
            <li class="list-group-item">
              Order #{{ order.id }} | {{ order.created_at|date:"F j, Y" }} | <strong>${{ order.total_price }}</strong>
            </li>
          {% endfor %}
        </ul>
        <a href="{% url 'store:order_history' %}" class="btn btn-sm btn-outline-primary">
          <i class="fas fa-receipt me-1"></i> View Full Order History
        </a>
      {% else %}
        <p>No orders yet.</p>
      {% endif %}
    </div>

    <div class="col-md-6">
      <h3>Submitted Reviews</h3>
      {% if reviews %}
        <ul class="list-group">
          {% for review in reviews|slice:":3" %}
            <li class="list-group-item">
              {{ review.product.title }}: {{ review.rating }} stars
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p>No reviews submitted yet.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}


===== templates/account/password_change_done.html =====
{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Password Changed - MatthewRaynor.com{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Password Successfully Changed</h2>
    <p>Your password has been updated. You may now <a href="{% url 'dashboard' %}">return to your dashboard</a> or continue browsing.</p>
</div>
{% endblock %}


===== templates/account/password_change.html =====
{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Change Password - MatthewRaynor.com{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Change Password</h2>
    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit" class="btn btn-primary">Change Password</button>
    </form>
    <p class="mt-3"><a href="{% url 'dashboard' %}">Back to Dashboard</a></p>
</div>
{% endblock %}


===== templates/account/signup.html =====
{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Sign Up</h2>
    <form method="post">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit" class="btn btn-primary">Sign Up</button>
    </form>
    <p class="mt-3">Already have an account? <a href="{% url 'account_login' %}">Login here</a>.</p>
</div>
{% endblock %}


===== templates/pages/press.html =====
{% extends "base.html" %}
{% block title %}Press - Matthew Raynor{% endblock %}

{% block content %}
<section class="press-section fade-in-up">
  <div class="container">
    <h2 class="section-title">In the Press</h2>
    <p class="section-subtitle">
      Stories, interviews, and articles that highlight my journey—from life on the water to life behind the screen. These features celebrate resilience, creativity, and the power of community.
    </p>

    <div class="row">
      {% for article in press_articles %}
      <div class="col-md-6 col-lg-4 mb-4 fade-in-up sr-delay-{{ forloop.counter }}">
        <div class="press-card card h-100 shadow-sm border-0 d-flex flex-column">
          {% if article.image_url %}
          <div class="press-image-wrapper">
            <img src="{{ article.image_url }}" class="card-img-top" alt="{{ article.title }}">
          </div>
          {% endif %}
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ article.title }}</h5>
            <p class="source"><small>{{ article.source }}</small></p>
            <p class="card-text flex-grow-1">{{ article.summary }}</p>
            <a href="{{ article.link }}" class="btn btn-primary mt-3" target="_blank" rel="noopener noreferrer">Read Full Article</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}


===== templates/pages/contact.html =====
{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Contact - MatthewRaynor.com{% endblock %}

{% block content %}
<div class="container mt-5">
  <h1 class="fw-bold mb-4">Contact Me</h1>
  <p class="lead">Got questions, feedback, or collaboration ideas? Drop me a message below.</p>

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-success">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <form method="post">
    {% csrf_token %}
    {{ form|crispy }}
    <button type="submit" class="btn btn-primary mt-3">Send Message</button>
  </form>
</div>
{% endblock %}


===== templates/store/product_detail.html =====
{% extends "base.html" %}
{% block title %}{{ product.title }} - MatthewRaynor.com{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="row">
    <div class="col-md-6">
      {% if product.image %}
        <img src="{{ product.image.url }}" class="img-fluid" alt="{{ product.title }}">
      {% endif %}
    </div>
    <div class="col-md-6">
      <h2>{{ product.title }}</h2>
      <p>{{ product.description }}</p>
      <h4>${{ product.price }}</h4>
      <p><strong>Stock:</strong> {{ product.stock }}</p>
      {% if product.product_type == 'artwork' and product.collection %}
        <p><strong>Collection:</strong> 
          <a href="{% url 'store:collection_detail' product.collection.slug %}">
            {{ product.collection.name }}
          </a>
        </p>
      {% endif %}
      <a href="{% url 'store:add_to_cart' product.id %}" class="btn btn-success">Add to Cart</a>
    </div>
  </div>

  <hr class="my-5">

  <!-- ✅ Review Section -->
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <h3 class="mb-4">Leave a Review</h3>
      {% if user.is_authenticated %}
        <form method="post">
          {% csrf_token %}
          <div class="mb-3 star-rating d-flex">
            {{ form.rating.label_tag }}
            {% for subwidget in form.rating.subwidgets reversed %}
              <input type="radio" name="{{ subwidget.name }}" value="{{ subwidget.choice_value }}" id="{{ subwidget.id_for_label }}" {% if subwidget.choice_value == form.rating.value|stringformat:"s" %}checked{% endif %}>
              <label for="{{ subwidget.id_for_label }}">&#9733;</label>
            {% endfor %}
          </div>
          <div class="mb-3">
            {{ form.comment.label_tag }}
            {{ form.comment }}
          </div>
          <button type="submit" class="btn btn-primary">Submit Review</button>
        </form>
      {% else %}
        <p><a href="{% url 'account_login' %}">Log in</a> to leave a review.</p>
      {% endif %}
    </div>
  </div>

  <!-- ✅ Display Existing Reviews -->
  {% if reviews %}
    <div class="row mt-5">
      <div class="col-md-8 offset-md-2">
        <h4 class="mb-3">Customer Reviews</h4>
        <ul class="list-group">
          {% for review in reviews %}
            <li class="list-group-item">
              <strong>
                {{ review.user.first_name|default:review.user.email }}
              </strong>
              - {{ review.rating }} ★
              <br>
              {{ review.comment }}
              <br>
              <small class="text-muted">{{ review.created_at|date:"F j, Y" }}</small>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>
  {% endif %}
</div>
{% endblock %}

{% block extra_js %}
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const radios = document.querySelectorAll('.star-rating input[type="radio"]');
    radios.forEach(radio => {
      radio.addEventListener('change', () => {
        const allLabels = document.querySelectorAll('.star-rating label');
        allLabels.forEach(label => label.classList.remove('selected'));

        let selected = false;
        radios.forEach((r, i) => {
          const label = r.nextElementSibling;
          if (!selected) label.classList.add('selected');
          if (r.checked) selected = true;
        });
      });
    });
  });
</script>
{% endblock %}


===== templates/store/cart_detail.html =====
{% extends "base.html" %}
{% block title %}Your Cart{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="fw-bold mb-4">Your Shopping Cart</h2>

  {% if cart.items %}
    <ul class="list-group mb-4">
      {% for key, item in cart.items %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          {{ item.title }} (x{{ item.quantity }})
        </div>
        <div class="d-flex align-items-center">
          <strong class="me-3">${{ item.price }}</strong>
          <form action="{% url 'store:remove_from_cart' key %}" method="post">
            {% csrf_token %}
            <button type="submit" class="btn btn-sm btn-danger">Remove</button>
          </form>
        </div>
      </li>
      {% endfor %}
    </ul>

    <h4 class="mb-4">Total: <span class="text-success">${{ cart.total }}</span></h4>

    <form action="{% url 'store:checkout' %}" method="post">
      {% csrf_token %}
      <button type="submit" class="btn btn-primary btn-lg">Proceed to Checkout</button>
    </form>
  {% else %}
    <div class="alert alert-info">
      Your cart is currently empty. <a href="{% url 'store:store_overview' %}">Browse the store</a> to add items.
    </div>
  {% endif %}
</div>
{% endblock %}


===== templates/store/store_overview.html =====
{% extends "base.html" %}
{% load static %}

{% block title %}Store - Matthew Raynor{% endblock %}

{% block content %}

<!-- HERO BANNER -->
<!-- HERO SECTION for STORE OVERVIEW -->
<section class="store-hero-section text-white d-flex align-items-center justify-content-center mb-4" style="height: 55vh;">
  <div class="store-hero-overlay"></div>
  <div class="store-hero-bg" style="background-image: url('{% static "images/store-hero.jpg" %}');"></div>
  <div class="store-hero-content text-center p-4 rounded">
    <h1 class="display-4 fw-bold">Where Vision Meets Resilience</h1>
    <p class="lead">Welcome to Matt's Store.</p>
    <div class="mt-4">
      <a href="#collections" class="btn btn-primary btn-lg me-2">Explore Collections</a>
      <a href="#book" class="btn btn-outline-light btn-lg">Discover the Book</a>
    </div>
  </div>
</section>


<div class="container py-5">

  <!-- ARTWORK COLLECTIONS -->
  <section id="collections" class="mb-5">
    <h2 class="fw-bold text-center mb-4 fade-in-up sr-delay-1">Artwork Collections</h2>

    <div class="row justify-content-center">
      {% for collection in collections %}
      <div class="col-md-6 col-lg-4 mb-4 fade-in-up sr-delay-{{ forloop.counter }}">
        <div class="card shadow-sm hover-shadow h-100">
          <div class="ratio ratio-4x3">
            {% if collection.cover_image %}
              <img src="{{ collection.cover_image.url }}" class="card-img-top object-fit-cover" alt="{{ collection.name }}">
            {% endif %}
          </div>
          <div class="card-body text-center">
            <h5 class="card-title fw-semibold">{{ collection.name }}</h5>
            <p class="card-text text-muted">{{ collection.description|truncatewords:20 }}</p>
            <a href="{% url 'store:collection_detail' collection.slug %}" class="btn btn-outline-primary">View Collection</a>
          </div>
        </div>
      </div>
      {% empty %}
        <p class="text-center">No artwork collections available yet.</p>
      {% endfor %}
    </div>
  </section>

  <!-- BOOK SPOTLIGHT -->
  {% if books %}
  <section id="book" class="bg-light rounded py-5 px-3 fade-in-up sr-delay-4">
    <div class="row align-items-center justify-content-center">
      {% for book in books %}
      <div class="col-md-5 mb-4 mb-md-0">
        <div class="ratio ratio-4x3">
          {% if book.image %}
            <img src="{{ book.image.url }}" class="img-fluid object-fit-cover rounded shadow" alt="{{ book.title }}">
          {% endif %}
        </div>
      </div>
      <div class="col-md-7">
        <h2 class="fw-bold">{{ book.title }}</h2>
        <p class="lead text-muted mb-3">A visual memoir of hope and resilience .</p>
        <p>
          This book isn’t just a collection of photographs — it's my story of transformation.
          Shot from boats, aerial photos, and moments of hope, these images guided me back to myself.
          No captions. No filters. Just the truth of my journey.
        </p>
        <blockquote class="blockquote mt-4">
          <p class="mb-0">"These images helped me reclaim my life."</p>
        </blockquote>
        <a href="{% url 'store:product_detail' book.slug %}" class="btn btn-primary btn-lg mt-3">Buy the Book</a>
      </div>
      {% endfor %}
    </div>
  </section>
  {% endif %}

</div>
{% endblock %}


===== templates/store/order_history.html =====
{% extends "base.html" %}
{% block title %}Order History{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="fw-bold mb-4">Your Orders</h2>

  {% if orders %}
    <div class="list-group">
      {% for order in orders %}
        <div class="list-group-item mb-3 shadow-sm rounded">
          <h5 class="mb-1">Order #{{ order.id }} - {{ order.created_at|date:"F j, Y, g:i a" }}</h5>
          <p class="mb-0"><strong>Status:</strong> {{ order.get_status_display }}</p>
          <p class="mb-0"><strong>Total:</strong> ${{ order.total_price }}</p>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted">You haven't placed any orders yet.</p>
  {% endif %}
</div>
{% endblock %}


===== templates/store/collection_detail.html =====
{% extends "base.html" %}
{% block title %}{{ collection.name }} - MatthewRaynor.com{% endblock %}

{% block content %}

<!-- HERO SECTION -->
<section class="store-hero-section text-white d-flex align-items-center justify-content-center mb-4" style="height: 40vh;">
  {% if collection.cover_image %}
    <div class="store-hero-overlay"></div>
    <div class="store-hero-bg" style="background-image: url('{{ collection.cover_image.url }}');"></div>
  {% endif %}
  <div class="store-hero-content text-center p-4 rounded">
    <h1 class="display-5 fw-bold">{{ collection.name }}</h1>
    <p class="lead">{{ collection.description }}</p>
  </div>
</section>

<!-- ARTWORK LIST -->
<div class="container">
  <h3 class="fw-bold text-center mb-4 fade-in-up">Artworks in This Collection</h3>
  <div class="row justify-content-center">
    {% for artwork in artworks %}
      <div class="col-md-6 col-lg-4 mb-4 fade-in-up sr-delay-{{ forloop.counter }}">
        <div class="card shadow-sm hover-shadow h-100">
          <div class="ratio ratio-4x3">
            {% if artwork.image %}
              <img src="{{ artwork.image.url }}" class="card-img-top object-fit-cover" alt="{{ artwork.title }}">
            {% endif %}
          </div>
          <div class="card-body text-center">
            <h5 class="card-title fw-semibold">{{ artwork.title }}</h5>
            <p class="card-text">${{ artwork.price }}</p>
            <a href="{% url 'store:product_detail' artwork.slug %}" class="btn btn-outline-primary">View Details</a>
          </div>
        </div>
      </div>
    {% empty %}
      <p class="text-center">No artworks available in this collection.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}


===== templates/store/order_success.html =====
{% extends "base.html" %}
{% block title %}Order Success{% endblock %}

{% block content %}
<div class="container mt-5 text-center">
  <h1 class="fw-bold text-success">🎉 Thank you for your order!</h1>
  <p class="lead mt-3">You'll receive a confirmation email shortly. Feel free to continue exploring.</p>
  <a href="{% url 'store:store_overview' %}" class="btn btn-primary mt-4">Return to Store</a>
</div>
{% endblock %}
